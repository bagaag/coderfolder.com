---
layout: post
title: Pimping The Blog
tags: bootstrap
---

I've applied the <a href="http://startbootstrap.com/blog-post">Start Bootstrap Blog Post template</a> to this site. A fairly painless exercise that took the default Jekyll layout and made it a whole lot easier to look at. Now all it needs is one of the <a href="http://bootswatch.com/">Bootswatch</a> themes to make it pop.

Also added <a href="https://www.google.com/cse/">Google Custom Search Engine</a>, which took a whopping 5 minutes.

<h3>Using Modulo in Liquid Templates</h3>

The two-column category list on the right got me into a bit of <a href="http://liquidmarkup.org/">Liquid</a> coding. I needed to split the list of categories into two DIVs. The code to get the mod of the index feels a bit ridiculous to me and I'd never have guessed it had I not found an example of this somewhere, but it works.

{% highlight html %}
<h4>Popular Blog Categories</h4>
<div class="row">
    <div class="col-lg-6">
        <ul class="list-unstyled">
            {{ "{%" }} for tag in site.tags %}
              {{ "{%" }} assign loopindex = forloop.index | modulo: 2 %}
              {{ "{%" }} if loopindex == 1 %}
                <li><a href="/tag/{{ "{{" }} tag[0] }}">{{ "{{" }} tag[0] }}</a> 
                  <span>({{ "{{" }} tag[1].size }})</span></li>
              {{ "{%" }} endif %}
            {{ "{%" }} endfor %}
        </ul>
    </div>
    <div class="col-lg-6">
        <ul class="list-unstyled">
            {{ "{%" }} for tag in site.tags %}
              {{ "{%" }} assign loopindex = forloop.index | modulo: 2 %}
              {{ "{%" }} if loopindex == 0 %}
                <li><a href="/tag/{{ "{{" }} tag[0] }}">{{ "{{" }} tag[0] }}</a> 
                  <span>({{ "{{" }} tag[1].size }})</span></li>
              {{ "{%" }} endif %}
            {{ "{%" }} endfor %}
        </ul>
    </div>
</div>
{% endhighlight %}

<h3>Filtering a page list in Jekyll Templates</h3>

I also added pagination to the home page. More work to be done there, but its a step. When I did that, Jekyll started seeing each page of the blog list as a Page on the site. As a result, my code to list the pages (as opposed to posts), which now sits in the persistant header area as a horizontal nav, started showing all the iterations of the home page generated by Jekyll's paginator. At the same time, it started including all the tag pages generated by the <a href="https://github.com/danieldevries/jekyll-tag-generator">tag generator plugin</a> I added a while back. I used a <a href="http://jekyllrb.com/docs/frontmatter/">custom page variable</a> of `ishome: true` on the home page and this code to list pages that aren't the home page and aren't a tag page. Note the hack used here because the Liquid template engine is missing a "does not contain" operator.

{% highlight html %}
<ul class="nav navbar-nav">
{{ "{%" }} for page in site.pages %}
  {{ "{%" }} if page.ishome != true %}
    {{ "{%" }} if page.url contains "/tag/" %}{{ "{%" }} else %}
      <li><a href="{{ "{{" }} page.url }}">{{ "{{" }} page.title }}</a></li>
    {{ "{%" }} endif %}
  {{ "{%" }} endif %}
{{ "{%" }} endfor %}
</ul>
{% endhighlight %}

<h3>Escaping Jekyll Tags when Posting Code</h3>

And finally, a thing I learned while writing this post is <a href="http://jamiecollinson.com/blog/how-to-escape-liquid-template-tags/">how to escape Jekyll tags</a> to show them in a blog post, as I've done above. Nice trick. Basically, you just replace the opening `{{ "{{" }}` or `{{ "{%" }}` of each Liquid tag with `{{ "{{" }} {{ '"{{"' }} }}` or `{{ "{%" }} {{ '"{%"' }} }}`, respectively.


